@model IEnumerable<HATC_CapstoneProject.Models.ShopItem>
@{
	ViewData["Title"] = "Index";
}

<h1>Index</h1>

@if (signInManager.IsSignedIn(User) && User.IsInRole("DM"))
{
	<p>
		<Button class="btn btn-success" asp-action="Create">Create New</Button>
	</p>
}
<table class="table table-striped table-responsive">
	<thead>
		<tr>
			<th>
				Item Name
			</th>
			<th>
				Item Cost
			</th>
			<th>
				Crafting Cost
			</th>
			<th>
				Price Adjustment
			</th>
			<th>
				Shoppable
			</th>
			<th>
				Craftable
			</th>
			<th>
				Attunement
			</th>
			<th>
				Rarity
			</th>
			<th>
				Source
			</th>
			@if (signInManager.IsSignedIn(User) && User.IsInRole("DM"))
{
			<th></th>
}
		</tr>
	</thead>
	<tbody>
		@foreach (var item in Model)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Name)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Value)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Value / 2)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.PriceAdjustment)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.isShoppable)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.isCraftable)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.isAttunement)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Rarity.Name)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Source)
				</td>
				@if (signInManager.IsSignedIn(User) && User.IsInRole("DM"))
{
				<td>
					<button asp-action="Edit" asp-route-id="@item.Id">Edit</button>
				</td>
}
			</tr>
		}
	</tbody>
</table>
